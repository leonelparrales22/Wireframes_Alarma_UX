<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>App de Ciclos Circadianos - Wireframe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              ink: {
                900: '#111827',
                700: '#374151',
                500: '#6B7280',
                300: '#D1D5DB',
                100: '#F3F4F6'
              }
            },
            fontFamily: {
              display: ['\"Space Grotesk\"', 'sans-serif'],
              body: ['\"IBM Plex Sans\"', 'sans-serif']
            }
          }
        }
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;700&family=Space+Grotesk:wght@500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="min-h-screen bg-ink-100 text-ink-900 font-body">
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      const StatusTag = ({ label, value, icon }) => (
        <div className="flex items-center gap-2 rounded-full border border-ink-300 px-3 py-1 text-xs text-ink-700">
          <span className="text-lg">{icon}</span>
          <div className="leading-tight">
            <p className="font-medium">{label}</p>
            {value && <p className="text-ink-500">{value}</p>}
          </div>
        </div>
      );

      const Toggle = ({ on }) => (
        <div className={`h-5 w-10 rounded-full border border-ink-300 bg-white transition ${
          on ? 'shadow-inner' : ''
        }`}>
          <div
            className={`h-4 w-4 rounded-full bg-ink-700 transition ${
              on ? 'translate-x-5' : 'translate-x-1'
            }`}
          />
        </div>
      );

      const Gauge = ({ score }) => (
        <div className="relative flex h-48 w-48 items-center justify-center">
          <svg className="h-full w-full" viewBox="0 0 200 200">
            <circle
              cx="100"
              cy="100"
              r="90"
              fill="none"
              stroke="#E5E7EB"
              strokeWidth="14"
            />
            <circle
              cx="100"
              cy="100"
              r="90"
              fill="none"
              stroke="#9CA3AF"
              strokeWidth="14"
              strokeDasharray={`${score * 5.65} 999`}
              strokeLinecap="round"
              transform="rotate(-90 100 100)"
            />
          </svg>
          <div className="absolute text-center">
            <p className="text-sm uppercase tracking-wide text-ink-500">Calidad</p>
            <p className="font-display text-5xl font-semibold">{score}</p>
            <p className="text-sm text-ink-500">Excelente</p>
          </div>
        </div>
      );

      const Chip = ({ label, active, subtle }) => (
        <button
          className={`rounded-full border px-3 py-1 text-sm font-medium ${
            active
              ? 'border-ink-900 bg-ink-900 text-white'
              : subtle
              ? 'border-ink-200 text-ink-500'
              : 'border-ink-300 text-ink-700'
          }`}
        >
          {label}
        </button>
      );

      const Slider = () => (
        <div className="space-y-2">
          <div className="flex items-center gap-2 text-xs text-ink-500">
            <span>7:00</span>
            <div className="flex-1 rounded-full bg-ink-200">
              <div className="h-2 rounded-full bg-ink-700" style={{ width: '85%' }} />
            </div>
            <span>7:30</span>
          </div>
          <div className="h-1 rounded-full bg-ink-200" />
        </div>
      );

      const IconPhone = () => (
        <svg viewBox="0 0 32 32" className="h-8 w-8 text-ink-500">
          <rect
            x="8"
            y="4"
            width="16"
            height="24"
            rx="3"
            ry="3"
            fill="none"
            stroke="currentColor"
            strokeWidth="2"
          />
          <circle cx="16" cy="24" r="1.4" fill="currentColor" />
        </svg>
      );

      const IconWatch = () => (
        <svg viewBox="0 0 32 32" className="h-8 w-8 text-ink-500">
          <rect
            x="10"
            y="9"
            width="12"
            height="14"
            rx="4"
            fill="none"
            stroke="currentColor"
            strokeWidth="2"
          />
          <rect x="12" y="3" width="8" height="4" rx="1" fill="currentColor" opacity="0.4" />
          <rect x="12" y="25" width="8" height="4" rx="1" fill="currentColor" opacity="0.4" />
        </svg>
      );

      const IconBattery = () => (
        <svg viewBox="0 0 38 32" className="h-8 w-8 text-ink-500">
          <rect
            x="4"
            y="9"
            width="26"
            height="14"
            rx="3"
            fill="none"
            stroke="currentColor"
            strokeWidth="2"
          />
          <rect x="30" y="13" width="4" height="6" rx="1" fill="currentColor" opacity="0.4" />
          <rect x="6" y="11" width="14" height="10" rx="2" fill="currentColor" opacity="0.2" />
        </svg>
      );

      const IconAlarm = () => (
        <svg viewBox="0 0 48 48" className="h-12 w-12 text-ink-500">
          <circle cx="24" cy="26" r="12" fill="none" stroke="currentColor" strokeWidth="2" />
          <path d="M24 20v7l4 3" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
          <path d="M14 12 8 8" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.6" />
          <path d="M34 12 40 8" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.6" />
          <path d="M18 40l-2 4" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.6" />
          <path d="M30 40l2 4" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.6" />
          <path
            d="M16 16c2-4 14-4 16 0"
            fill="none"
            stroke="currentColor"
            strokeWidth="2"
            strokeLinecap="round"
            opacity="0.6"
          />
        </svg>
      );

      const IconMoon = () => (
        <svg viewBox="0 0 48 48" className="mx-auto h-10 w-10 text-ink-400">
          <path
            d="M30 6a15 15 0 1 0 12 24 18 18 0 1 1-12-24Z"
            fill="currentColor"
            opacity="0.5"
          />
          <path
            d="M24 7a17 17 0 1 0 14 28 19 19 0 1 1-14-28Z"
            fill="currentColor"
            opacity="0.15"
          />
        </svg>
      );

      const StatusRow = ({ label, value, icon }) => (
        <div className="flex items-center justify-between rounded-2xl border border-ink-200 px-4 py-3">
          <div className="flex items-center gap-3">
            <span>{icon}</span>
            <div>
              <p className="text-sm text-ink-500">{label}</p>
              <p className="text-lg font-medium">{value}</p>
            </div>
          </div>
          <span className="text-ink-400">···</span>
        </div>
      );

      const HomeView = ({ onOpenWindow, onSleep }) => (
        <section className="flex w-full max-w-md flex-col rounded-[40px] border border-ink-200 bg-white p-6 shadow-xl min-h-[780px]">
          <header className="space-y-2 text-center">
            <p className="text-sm uppercase tracking-wide text-ink-500">Domingo 12 Oct</p>
            <h1 className="font-display text-2xl">Buenos días</h1>
          </header>

          <div className="mt-6 flex flex-col items-center gap-4">
            <Gauge score={85} />
            <StatusTag label="Window Met" value="Sí" icon="✔" />
          </div>

          <section className="mt-8 space-y-4 rounded-3xl border border-dashed border-ink-200 p-5">
            <div className="flex items-center justify-between text-sm text-ink-500">
              <p className="uppercase tracking-wide">Smart Alarm</p>
              <Toggle on />
            </div>
            <div>
              <p className="text-3xl font-semibold">7:00 - 7:30 AM</p>
              <p className="text-sm text-ink-500">Próxima alarma inteligente</p>
            </div>
            <div className="flex justify-between text-xs text-ink-500">
              <p>Límite absoluto</p>
              <p className="font-medium text-ink-700">7:30 AM</p>
            </div>
            <div className="flex flex-wrap gap-3">
              <StatusTag label="Sensores" value="OK" icon="◎" />
              <StatusTag label="Sync" value="OK" icon="△" />
              <StatusTag label="Batería" value="92%" icon="▣" />
            </div>
          </section>

          <div className="mt-auto space-y-3">
            <button
              className="w-full rounded-2xl border border-ink-300 px-4 py-3 text-center text-sm font-medium"
              onClick={onOpenWindow}
            >
              Configurar ventana
            </button>
            <button
              className="w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-center text-sm font-medium text-white"
              onClick={onSleep}
            >
              Modo Sueño
            </button>
          </div>
        </section>
      );

      const ConfigView = ({ onBack, onSleep }) => (
        <section className="flex w-full max-w-md flex-col rounded-[40px] border border-ink-200 bg-white p-6 shadow-xl min-h-[780px]">
          <header className="flex items-center justify-between text-sm">
            <button className="text-2xl" onClick={onBack} aria-label="Volver">
              ←
            </button>
            <p className="font-display text-lg">Configurar ventana</p>
            <span className="text-ink-200">···</span>
          </header>

          <div className="mt-4 flex items-center gap-3">
            <Chip label="Laboral" active />
            <Chip label="Finde" subtle />
          </div>
          <div className="mt-3 flex flex-wrap gap-2 text-xs">
            {['L', 'M', 'X', 'J', 'V', 'S', 'D'].map((day, index) => (
              <Chip key={day} label={day} active={index < 5} subtle={index >= 5} />
            ))}
          </div>

          <div className="mt-6 space-y-2 text-center">
            <p className="text-3xl font-semibold">7:00 - 7:30</p>
            <p className="text-sm text-ink-500">
              Te despertaremos cuando detectemos sueño ligero
            </p>
            <Slider />
          </div>

          <div className="mt-6 space-y-4">
            <div className="space-y-2 rounded-2xl border border-ink-200 p-4">
              <p className="text-xs uppercase tracking-wide text-ink-500">Hora límite</p>
              <div className="flex items-center justify-between rounded-2xl border border-ink-300 px-4 py-3 text-lg font-medium">
                <span>Tope</span>
                <span>7:30</span>
              </div>
            </div>

            <div className="space-y-4 rounded-2xl border border-ink-200 p-4">
              <div className="flex items-center justify-between">
                <div>
                  <p className="font-medium">Alarma progresiva</p>
                  <p className="text-xs text-ink-500">0-100% · 5 min</p>
                </div>
                <Toggle on />
              </div>
              <div className="flex items-center justify-between">
                <div>
                  <p className="font-medium">Snooze inteligente</p>
                  <p className="text-xs text-ink-500">Duración: 5 min</p>
                </div>
                <Toggle on />
              </div>
            </div>
          </div>

          <div className="mt-auto space-y-3">
            <button
              className="w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-center text-sm font-medium text-white"
              onClick={onBack}
            >
              Guardar
            </button>
            <button
              className="w-full rounded-2xl border border-ink-300 px-4 py-3 text-center text-sm font-medium"
              onClick={onSleep}
            >
              Ir a Modo Sueño
            </button>
          </div>
        </section>
      );

      const EmotionIcon = ({ variant, active }) => {
        const stroke = active ? '#111827' : '#9CA3AF';
        const mouthPaths = {
          sleep: 'M16 22h8',
          neutral: 'M16 26h8',
          calm: 'M16 25c2 2 6 2 8 0',
          happy: 'M16 24c2 4 6 4 8 0'
        };

        return (
          <svg viewBox="0 0 40 40" className="h-12 w-12">
            <circle cx="20" cy="20" r="12" fill="none" stroke={stroke} strokeWidth="2" />
            {variant === 'sleep' ? (
              <>
                <path d="M14 18h4" stroke={stroke} strokeWidth="2" strokeLinecap="round" />
                <path d="M22 18h4" stroke={stroke} strokeWidth="2" strokeLinecap="round" />
              </>
            ) : (
              <>
                <circle cx="16" cy="18" r="1.5" fill={stroke} />
                <circle cx="24" cy="18" r="1.5" fill={stroke} />
              </>
            )}
            <path d={mouthPaths[variant]} stroke={stroke} strokeWidth="2" strokeLinecap="round" fill="none" />
          </svg>
        );
      };

      const Emotions = ({ value }) => {
        const options = ['sleep', 'neutral', 'calm', 'happy'];
        return (
          <div className="flex items-center justify-between rounded-2xl border border-ink-200 px-4 py-3">
            {options.map((option, index) => (
              <button key={option} className="p-2">
                <EmotionIcon variant={option} active={value === index} />
              </button>
            ))}
          </div>
        );
      };

      const ErrorView = ({ onResolve }) => (
        <section className="flex w-full max-w-md flex-col items-center rounded-[40px] border border-ink-200 bg-white p-6 text-center shadow-xl min-h-[780px]">
          <header className="text-sm uppercase tracking-wide text-ink-500">Error crítico</header>
          <div className="mt-10 flex h-32 w-32 items-center justify-center rounded-full border border-ink-200">
            <svg viewBox="0 0 60 60" className="h-16 w-16 text-ink-500">
              <path
                d="M30 6 53 48a3 3 0 0 1-2.6 4.5H9.6A3 3 0 0 1 7 48L30 6Z"
                fill="none"
                stroke="currentColor"
                strokeWidth="2"
              />
              <circle cx="30" cy="40" r="2" fill="currentColor" />
              <path d="M30 22v12" stroke="currentColor" strokeWidth="3" strokeLinecap="round" />
            </svg>
          </div>
          <p className="mt-6 text-lg font-medium">Permisos de micrófono y sensores denegados</p>
          <p className="mt-2 text-sm text-ink-500">Activa los permisos para registrar tu sueño con precisión.</p>
          <button
            className="mt-auto w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-sm font-medium text-white"
            onClick={onResolve}
          >
            Ir a ajustes
          </button>
        </section>
      );

      const SummaryView = ({ onFinish }) => (
        <section className="flex w-full max-w-md flex-col rounded-[40px] border border-ink-200 bg-white p-6 shadow-xl min-h-[780px]">
          <header className="text-center">
            <p className="text-sm text-ink-500">Resumen del descanso</p>
          </header>

          <div className="mt-6 flex flex-col items-center gap-4">
            <Gauge score={85} />
            <p className="text-sm text-ink-500">Energía: Alta</p>
          </div>

          <div className="mt-6 space-y-3">
            <div className="rounded-3xl border border-ink-200 p-4">
              <div className="flex items-center justify-between text-sm text-ink-500">
                <p>Movimiento nocturno</p>
                <span>Bajo</span>
              </div>
              <div className="mt-3 rounded-2xl border border-ink-200 bg-ink-50 p-3">
                <svg viewBox="0 0 220 60" className="h-16 w-full text-ink-500">
                  <polyline
                    fill="none"
                    stroke="currentColor"
                    strokeWidth="2"
                    strokeLinecap="round"
                    points="0,40 20,30 40,42 60,22 80,44 100,26 120,48 140,28 160,46 180,32 200,40"
                  />
                </svg>
              </div>
              <div className="mt-2 flex justify-between text-xs text-ink-500">
                <span>00:00</span>
                <span>04:00</span>
                <span>07:00</span>
              </div>
            </div>

            <div>
              <p className="text-sm font-medium">¿Despertaste bien?</p>
              <Emotions value={3} />
            </div>

            <div className="space-y-2 rounded-2xl border border-ink-200 px-4 py-3 text-sm">
              <div className="flex items-center justify-between">
                <p>¿Café ayer?</p>
                <div className="flex gap-2">
                  <span className="rounded-full border border-ink-300 px-3 py-1 text-xs">No</span>
                  <span className="rounded-full border border-ink-900 bg-ink-900 px-3 py-1 text-xs text-white">Sí</span>
                </div>
              </div>
              <p className="text-xs text-ink-500">Otras variables: clima nublado, bajo estrés.</p>
            </div>
          </div>

          <button className="mt-auto w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-sm font-medium text-white" onClick={onFinish}>
            Listo
          </button>
        </section>
      );

      const WakeView = ({ onBack, onSummary }) => (
        <section className="flex w-full max-w-md flex-col rounded-[40px] border border-ink-200 bg-white p-6 shadow-xl min-h-[780px]">
          <header className="flex items-center justify-between text-sm">
            <button className="text-2xl" onClick={onBack} aria-label="Volver">
              ←
            </button>
            <p className="font-display text-xl">Smart Alarm</p>
            <span className="text-ink-300">◦</span>
          </header>

          <div className="mt-8 space-y-2 text-center">
            <div className="mx-auto flex h-20 w-20 items-center justify-center rounded-2xl border border-ink-300">
              <IconAlarm />
            </div>
            <p className="text-5xl font-display">7:12 AM</p>
            <p className="text-sm text-ink-500">Es hora de despertar</p>
            <div className="mx-auto rounded-full border border-ink-300 px-3 py-1 text-xs text-ink-600">
              Dentro de tu ventana · 7:00-7:30
            </div>
          </div>

          <div className="mt-8 space-y-3">
            <div className="rounded-3xl border border-ink-200 p-4">
              <div className="flex items-center justify-between text-sm text-ink-500">
                <p>Audio progresivo</p>
                <span className="text-ink-400">Subiendo</span>
              </div>
              <div className="mt-3 rounded-2xl border border-ink-200 bg-ink-50 p-3">
                <svg viewBox="0 0 220 60" className="h-16 w-full text-ink-500">
                  <polyline
                    fill="none"
                    stroke="currentColor"
                    strokeWidth="2"
                    strokeLinecap="round"
                    points="0,30 10,20 20,40 30,10 40,35 50,25 60,45 70,15 80,30 90,20 100,38 110,18 120,42 130,28 140,50 150,22 160,36 170,12 180,40 190,24 200,48 210,26"
                  />
                  <polyline
                    fill="none"
                    stroke="currentColor"
                    strokeOpacity="0.4"
                    strokeWidth="1"
                    points="0,40 10,32 20,44 30,26 40,46 50,30 60,50 70,28 80,42 90,34 100,46 110,32 120,48 130,36 140,54 150,34 160,44 170,26 180,48 190,38 200,52 210,40"
                  />
                </svg>
              </div>
              <div className="mt-2 text-right text-xs text-ink-500">40%</div>
            </div>

            <div className="space-y-1 rounded-3xl border border-ink-200 p-4">
              <div className="flex items-center gap-2 text-sm font-medium">
                <span>○</span>
                <p>Snooze inteligente (recomendado)</p>
              </div>
              <p className="text-xs text-ink-500">Explicación snooze: extendemos la ventana 5 min según tu ciclo.</p>
            </div>
          </div>

          <button
            className="mt-8 rounded-3xl border border-ink-300 px-4 py-4 text-center text-sm font-medium"
            onClick={onSummary}
          >
            Desliza para apagar ▷
          </button>
        </section>
      );

      const SleepView = ({ onBack, onWake, onError }) => (
        <section className="flex w-full max-w-md flex-col rounded-[40px] border border-ink-200 bg-white p-6 shadow-xl min-h-[780px]">
          <header className="flex items-center justify-between text-sm">
            <button className="text-2xl" onClick={onBack} aria-label="Volver">
              ←
            </button>
            <p className="font-display text-xl">Modo Sueño</p>
            <span className="text-ink-300">◦</span>
          </header>

          <div className="mt-8 space-y-1 text-center">
            <p className="text-4xl font-display">11:43 pm</p>
            <IconMoon />
            <p className="text-sm text-ink-500">Monitorizando...</p>
          </div>

          <div className="mt-8 space-y-3">
            <StatusRow label="Phone" value="95% · Cargando" icon={<IconPhone />} />
            <StatusRow label="Watch" value="Conectado" icon={<IconWatch />} />
            <StatusRow label="Batería" value="25%" icon={<IconBattery />} />
          </div>

          <div className="mt-8 rounded-2xl border border-dashed border-ink-300 px-4 py-3 text-sm text-ink-600">
            <div className="flex items-center justify-between">
              <p>△ Conecta el cargador para iniciar monitoreo</p>
              <button className="text-xs font-medium text-ink-500 underline" onClick={onError}>
                Revisar permisos
              </button>
            </div>
          </div>

          <div className="mt-auto space-y-3">
            <button
              className="w-full rounded-2xl border border-ink-400 bg-ink-200/50 px-4 py-3 text-center text-sm font-medium text-ink-700"
              onClick={onBack}
            >
              Pausar / Detener
            </button>
            <button
              className="w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-center text-sm font-medium text-white"
              onClick={onWake}
            >
              Despertar ahora
            </button>
          </div>
        </section>
      );

      const App = () => {
        const [screen, setScreen] = React.useState('home');

        return (
          <main className="flex min-h-screen items-center justify-center px-4 py-10">
            {screen === 'home' && (
              <HomeView
                onOpenWindow={() => setScreen('config')}
                onSleep={() => setScreen('sleep')}
              />
            )}
            {screen === 'config' && (
              <ConfigView
                onBack={() => setScreen('home')}
                onSleep={() => setScreen('sleep')}
              />
            )}
            {screen === 'sleep' && (
              <SleepView
                onBack={() => setScreen('home')}
                onWake={() => setScreen('wake')}
                onError={() => setScreen('error')}
              />
            )}
            {screen === 'wake' && (
              <WakeView
                onBack={() => setScreen('home')}
                onSummary={() => setScreen('summary')}
              />
            )}
            {screen === 'summary' && (
              <SummaryView onFinish={() => setScreen('home')} />
            )}
            {screen === 'error' && (
              <ErrorView onResolve={() => setScreen('home')} />
            )}
          </main>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
