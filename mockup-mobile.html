<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mockup m√≥vil ¬∑ App Ciclos Circadianos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              ink: {
                900: '#111827',
                800: '#1f2937',
                700: '#374151',
                600: '#4b5563',
                500: '#6b7280',
                400: '#9ca3af',
                300: '#d1d5db',
                200: '#e5e7eb',
                100: '#f3f4f6'
              },
              sky: {
                500: '#38bdf8'
              },
              amber: {
                400: '#fbbf24'
              },
              success: {
                500: '#10b981'
              }
            },
            fontFamily: {
              display: ['"Space Grotesk"', 'sans-serif'],
              body: ['"IBM Plex Sans"', 'sans-serif']
            },
            boxShadow: {
              frame: '0 40px 90px rgba(15, 23, 42, 0.18)'
            }
          }
        }
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=Space+Grotesk:wght@500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        background: #ffffff;
      }
    </style>
  </head>
  <body class="min-h-screen bg-ink-100 text-ink-900 font-body">
    <main class="mx-auto flex max-w-6xl flex-col gap-10 px-4 py-12">
      <section class="text-center">
        <p class="inline-flex items-center gap-2 rounded-full border border-ink-300 px-4 py-1 text-xs uppercase tracking-[0.2em] text-ink-500">
          Mockup navegable ¬∑ hi-fi
        </p>
        <h1 class="mt-4 font-display text-4xl leading-tight text-ink-900">App de Ciclos Circadianos</h1>
        <p class="mx-auto mt-4 max-w-3xl text-base text-ink-600">
          Este mockup interactivo replica el flujo de pantallas del wireframe (<strong>index.html</strong>) aplicando los tokens de color,
          tipograf√≠a y componentes documentados en <strong>design-system.html</strong>. Usa los chips inferiores para navegar entre las vistas clave.
        </p>
      </section>

      <section class="rounded-3xl border border-dashed border-ink-300 bg-white/80 px-6 py-5 text-sm text-ink-600">
        <p class="font-medium text-ink-800">Tokens activos</p>
        <div class="mt-3 flex flex-wrap justify-center gap-3 text-xs font-medium">
          <span class="rounded-full bg-white px-3 py-1 text-ink-700">Ink 900 ¬∑ #111827</span>
          <span class="rounded-full bg-white px-3 py-1 text-ink-700">Space Grotesk ¬∑ t√≠tulos</span>
          <span class="rounded-full bg-white px-3 py-1 text-ink-700">IBM Plex Sans ¬∑ cuerpo</span>
          <span class="rounded-full bg-white px-3 py-1 text-ink-700">Sky 500 ¬∑ acciones</span>
          <span class="rounded-full bg-white px-3 py-1 text-ink-700">Radios 52/36 px</span>
        </div>
      </section>

      <div id="root"></div>
    </main>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      const accentSettings = {
        sky: { primary: '#38bdf8', light: '#ecfeff', glow: 'rgba(56,189,248,0.35)', textOnPrimary: '#ffffff' },
        success: { primary: '#10b981', light: '#e1f8ef', glow: 'rgba(16,185,129,0.35)', textOnPrimary: '#ffffff' },
        amber: { primary: '#fbbf24', light: '#fef3c7', glow: 'rgba(251,191,36,0.35)', textOnPrimary: '#1f2937' },
        ink: { primary: '#111827', light: '#e5e7eb', glow: 'rgba(17,24,39,0.25)', textOnPrimary: '#ffffff' },
        alert: { primary: '#f87171', light: '#fee2e2', glow: 'rgba(248,113,113,0.35)', textOnPrimary: '#ffffff' }
      };

      const PhoneFrame = ({ children, accent = 'sky' }) => {
        const palette = accentSettings[accent] || accentSettings.sky;
        return (
          <div className="relative flex justify-center">
            <div
              className="absolute -inset-6 blur-3xl opacity-80"
              style={{ background: 'radial-gradient(circle, rgba(15,23,42,0.15) 0%, transparent 65%)' }}
            ></div>
            <div className="relative w-full max-w-md rounded-[52px] border-[6px] border-ink-900 bg-white p-4 shadow-frame">
              <div className="rounded-[36px] bg-white p-6">
                {children}
              </div>
            </div>
          </div>
        );
      };

      const statusTokens = {
        default: {
          border: '#e5e7eb',
          bg: 'rgba(243,244,246,0.9)',
          text: '#374151',
          subtext: '#6b7280',
          icon: '#6b7280'
        },
        sky: {
          border: '#38bdf8',
          bg: 'rgba(56,189,248,0.12)',
          text: '#0f4c75',
          subtext: '#0c4a6e',
          icon: '#0ea5e9'
        },
        success: {
          border: '#10b981',
          bg: 'rgba(16,185,129,0.12)',
          text: '#065f46',
          subtext: '#047857',
          icon: '#10b981'
        },
        amber: {
          border: '#fbbf24',
          bg: 'rgba(251,191,36,0.16)',
          text: '#92400e',
          subtext: '#b45309',
          icon: '#f59e0b'
        },
        ink: {
          border: '#111827',
          bg: 'rgba(17,24,39,0.08)',
          text: '#111827',
          subtext: '#1f2937',
          icon: '#111827'
        }
      };

      const StatusTag = ({ label, value, icon, variant = 'default' }) => {
        const palette = statusTokens[variant] || statusTokens.default;
        return (
          <div
            className="flex items-center gap-2 rounded-full px-3 py-1 text-xs"
            style={{
              background: palette.bg,
              border: `1px solid ${palette.border}`,
              color: palette.text
            }}
          >
            <span className="text-base" style={{ color: palette.icon }}>
              {icon}
            </span>
            <div className="leading-tight">
              <p className="font-semibold" style={{ color: palette.text }}>
                {label}
              </p>
              {value && (
                <p className="text-[11px]" style={{ color: palette.subtext }}>
                  {value}
                </p>
              )}
            </div>
          </div>
        );
      };

      const Toggle = ({ on }) => (
        <div
          className={`flex h-6 w-12 items-center rounded-full border px-1 transition ${
            on ? 'border-ink-900 bg-ink-900 justify-end' : 'border-ink-300 bg-white justify-start'
          }`}
        >
          <div className={`h-4 w-4 rounded-full shadow ${on ? 'bg-white' : 'bg-ink-400'}`}></div>
        </div>
      );

      const Gauge = ({ score }) => (
        <div className="relative flex h-40 w-40 items-center justify-center">
          <svg className="h-full w-full" viewBox="0 0 200 200">
            <circle cx="100" cy="100" r="90" fill="none" stroke="#E5E7EB" strokeWidth="14" />
            <circle
              cx="100"
              cy="100"
              r="90"
              fill="none"
              stroke="#6EE7B7"
              strokeWidth="14"
              strokeDasharray={`${score * 4.8} 999`}
              strokeLinecap="round"
              transform="rotate(-90 100 100)"
            />
          </svg>
          <div className="absolute text-center">
            <p className="text-xs uppercase tracking-[0.2em] text-ink-500">Calidad</p>
            <p className="font-display text-4xl font-semibold text-success-500">{score}</p>
          </div>
        </div>
      );

      const Chip = ({ label, active, subtle }) => (
        <span
          className={`rounded-full border px-3 py-1 text-xs font-medium ${
            active
              ? 'border-ink-900 bg-ink-900 text-white'
              : subtle
              ? 'border-dashed border-ink-300 text-ink-400'
              : 'border-ink-300 text-ink-600'
          }`}
        >
          {label}
        </span>
      );

      const Slider = () => (
        <div className="space-y-2">
          <div className="flex items-center gap-2 text-xs text-ink-500">
            <span>7:00</span>
            <div className="flex-1 rounded-full bg-ink-200">
              <div className="h-1.5 rounded-full bg-ink-900" style={{ width: '80%' }}></div>
            </div>
            <span>7:30</span>
          </div>
          <div className="h-1 rounded-full bg-ink-200" />
        </div>
      );

      const IconPhone = () => (
        <svg viewBox="0 0 32 32" className="h-9 w-9">
          <rect x="8" y="4" width="16" height="24" rx="4" fill="#ecfeff" stroke="#38bdf8" strokeWidth="2" />
          <rect x="13" y="7" width="6" height="1.6" rx="0.8" fill="#38bdf8" opacity="0.6" />
          <circle cx="16" cy="24" r="1.4" fill="#0ea5e9" />
        </svg>
      );

      const IconWatch = () => (
        <svg viewBox="0 0 32 32" className="h-9 w-9">
          <defs>
            <linearGradient id="watchStrap" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stopColor="#bae6fd" />
              <stop offset="100%" stopColor="#7dd3fc" />
            </linearGradient>
          </defs>
          <rect x="12" y="2" width="8" height="6" rx="1" fill="url(#watchStrap)" />
          <rect x="12" y="24" width="8" height="6" rx="1" fill="url(#watchStrap)" />
          <rect x="10" y="9" width="12" height="14" rx="4" fill="#ffffff" stroke="#0ea5e9" strokeWidth="2" />
          <circle cx="16" cy="16" r="3.2" fill="none" stroke="#0ea5e9" strokeWidth="2" />
          <path d="M16 13.5v2.8l1.8 1.2" stroke="#0ea5e9" strokeWidth="1.6" strokeLinecap="round" />
        </svg>
      );

      const IconBattery = () => (
        <svg viewBox="0 0 38 32" className="h-9 w-9">
          <rect x="4" y="9" width="26" height="14" rx="4" fill="#ecfdf5" stroke="#10b981" strokeWidth="2" />
          <rect x="30" y="13" width="4" height="6" rx="1" fill="#059669" />
          <rect x="6" y="11" width="18" height="10" rx="2" fill="#10b981" opacity="0.35" />
          <rect x="6" y="11" width="14" height="10" rx="2" fill="#10b981" />
        </svg>
      );

      const IconAlarm = () => (
        <svg viewBox="0 0 64 64" className="h-16 w-16">
          <defs>
            <linearGradient id="alarmGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stopColor="#ffe29f" />
              <stop offset="100%" stopColor="#ffa751" />
            </linearGradient>
          </defs>
          <circle cx="32" cy="34" r="16" fill="url(#alarmGradient)" stroke="#0f172a" strokeWidth="2" />
          <path d="M32 26v9l5 4" fill="none" stroke="#0f172a" strokeWidth="2.5" strokeLinecap="round" />
          <path d="M17 15 10 10" stroke="#fbbf24" strokeWidth="3" strokeLinecap="round" />
          <path d="M47 15 54 10" stroke="#fbbf24" strokeWidth="3" strokeLinecap="round" />
          <path d="M21 49l-3 6" stroke="#38bdf8" strokeWidth="3" strokeLinecap="round" />
          <path d="M43 49l3 6" stroke="#38bdf8" strokeWidth="3" strokeLinecap="round" />
          <path d="M22 20c3-5 17-5 20 0" fill="none" stroke="#0f172a" strokeWidth="2" strokeLinecap="round" />
        </svg>
      );

      const IconMoon = () => (
        <svg viewBox="0 0 48 48" className="mx-auto h-12 w-12">
          <defs>
            <linearGradient id="moonGlow" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stopColor="#fef3c7" />
              <stop offset="100%" stopColor="#fbbf24" />
            </linearGradient>
          </defs>
          <path
            d="M32 5a17 17 0 1 0 11 30 19 19 0 1 1-11-30Z"
            fill="url(#moonGlow)"
            stroke="#f59e0b"
            strokeWidth="1.2"
            opacity="0.9"
          />
          <path
            d="M26 10a14 14 0 1 0 10 24 16 16 0 1 1-10-24Z"
            fill="#fff7ed"
            opacity="0.6"
          />
        </svg>
      );

      const IconWarning = ({ className = 'h-6 w-6' }) => (
        <svg viewBox="0 0 32 32" className={className}>
          <path
            d="M16 5l11 20a2 2 0 0 1-1.7 3H6.7a2 2 0 0 1-1.7-3L16 5Z"
            fill="#fff7ed"
            stroke="#fbbf24"
            strokeWidth="1.5"
          />
          <path d="M16 12v7" stroke="#b45309" strokeWidth="2" strokeLinecap="round" />
          <circle cx="16" cy="22.5" r="1" fill="#b45309" />
        </svg>
      );

      const StatusRow = ({ label, value, icon }) => (
        <div className="flex items-center justify-between rounded-2xl border border-ink-200 px-4 py-3">
          <div className="flex items-center gap-3">
            <span>{icon}</span>
            <div>
              <p className="text-xs text-ink-500">{label}</p>
              <p className="text-lg font-medium">{value}</p>
            </div>
          </div>
          <span className="text-ink-300">‚Ä¢‚Ä¢‚Ä¢</span>
        </div>
      );

      const emotionTokens = [
        {
          variant: 'sleep',
          icon: 'üò¥',
          baseBg: '#FEF3C7',
          baseBorder: '#FCD34D',
          baseColor: '#92400E',
          activeBg: '#FBBF24',
          activeBorder: '#92400E',
          activeColor: '#1F2937'
        },
        {
          variant: 'neutral',
          icon: 'üòê',
          baseBg: '#FFFFFF',
          baseBorder: '#E5E7EB',
          baseColor: '#4B5563',
          activeBg: '#FFFFFF',
          activeBorder: '#111827',
          activeColor: '#111827'
        },
        {
          variant: 'focus',
          icon: 'üôÇ',
          baseBg: '#F9FAFB',
          baseBorder: '#E5E7EB',
          baseColor: '#FBBF24',
          activeBg: '#111827',
          activeBorder: '#111827',
          activeColor: '#FBBF24'
        },
        {
          variant: 'happy',
          icon: 'üòÑ',
          baseBg: '#ECFDF5',
          baseBorder: '#A7F3D0',
          baseColor: '#047857',
          activeBg: '#10B981',
          activeBorder: '#047857',
          activeColor: '#FFFFFF'
        }
      ];

      const Emotions = ({ value }) => (
        <div className="flex items-center justify-between rounded-2xl border border-ink-200 px-4 py-3">
          {emotionTokens.map((token, index) => {
            const active = value === index;
            return (
              <button
                key={token.variant}
                className="flex h-14 w-14 items-center justify-center rounded-full border text-2xl transition"
                style={{
                  background: active ? token.activeBg : token.baseBg,
                  borderColor: active ? token.activeBorder : token.baseBorder,
                  color: active ? token.activeColor : token.baseColor,
                  boxShadow: active ? '0 0 0 4px rgba(17,24,39,0.12)' : 'none'
                }}
                aria-pressed={active}
              >
                <span className="leading-none">{token.icon}</span>
              </button>
            );
          })}
        </div>
      );

      const HomeView = ({ onOpenWindow, onSleep }) => (
        <div className="flex min-h-[720px] flex-col">
          <header className="space-y-1 text-center">
            <p className="text-xs uppercase tracking-[0.2em] text-ink-500">Domingo 12 Oct</p>
            <h2 className="font-display text-3xl">Buenos d√≠as</h2>
            <p className="text-sm text-ink-500">Ventana activa ¬∑ 7:00 - 7:30</p>
          </header>

          <div className="mt-6 flex flex-col items-center gap-4">
            <Gauge score={85} />
            <StatusTag label="Window Met" value="S√≠" icon="‚úî" variant="ink" />
          </div>

          <section className="mt-8 space-y-4 rounded-3xl border border-dashed border-ink-200 p-5">
            <div className="flex items-center justify-between text-xs text-ink-500">
              <p>Smart Alarm</p>
              <Toggle on />
            </div>
            <div>
              <p className="font-display text-3xl">7:00 - 7:30 AM</p>
              <p className="text-sm text-ink-500">Pr√≥xima alarma inteligente</p>
            </div>
            <div className="flex justify-between text-xs text-ink-500">
              <p>L√≠mite absoluto</p>
              <p className="font-medium text-ink-700">7:30 AM</p>
            </div>
            <div className="flex flex-wrap gap-2 text-[11px]">
              <StatusTag label="Sensores" value="OK" icon="‚óé" variant="sky" />
              <StatusTag label="Bater√≠a" value="92%" icon="‚ñ£" variant="success" />
              <StatusTag label="Ventana" value="7:00-7:30" icon="‚ñ≥" variant="amber" />
              <StatusTag label="Window Met" value="S√≠" icon="‚úî" variant="ink" />
            </div>
          </section>

          <div className="mt-auto space-y-3">
            <button
              className="w-full rounded-2xl border border-ink-300 px-4 py-3 text-sm font-medium text-ink-800"
              onClick={onOpenWindow}
            >
              Configurar ventana
            </button>
            <button
              className="w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-sm font-medium text-white"
              onClick={onSleep}
            >
              Modo Sue√±o
            </button>
          </div>
        </div>
      );

      const ConfigView = ({ onBack, onSleep }) => (
        <div className="flex min-h-[720px] flex-col">
          <header className="flex items-center justify-between text-sm text-ink-700">
            <button className="text-2xl" onClick={onBack} aria-label="Volver">
              ‚Üê
            </button>
            <p className="font-display text-lg">Configurar ventana</p>
            <span className="text-ink-300">¬∑¬∑¬∑</span>
          </header>

          <div className="mt-4 flex gap-2 text-xs font-medium">
            <Chip label="Laboral" active />
            <Chip label="Finde" />
          </div>
          <div className="mt-3 flex flex-wrap gap-2 text-xs font-medium">
            {['L', 'M', 'X', 'J', 'V'].map((day) => (
              <Chip key={day} label={day} active />
            ))}
            <Chip label="S" subtle />
            <Chip label="D" subtle />
          </div>

          <div className="mt-6 space-y-2 text-center">
            <p className="font-display text-3xl">7:00 - 7:30</p>
            <p className="text-sm text-ink-500">Despertaremos en fase de sue√±o ligero</p>
            <Slider />
          </div>

          <div className="mt-6 space-y-4">
            <div className="space-y-2 rounded-2xl border border-ink-200 p-4">
              <p className="text-xs uppercase tracking-[0.2em] text-ink-500">Hora l√≠mite</p>
              <div className="flex items-center justify-between rounded-2xl border border-ink-300 px-4 py-3 text-lg font-medium">
                <span>Tope</span>
                <span>7:30</span>
              </div>
            </div>

            <div className="space-y-4 rounded-2xl border border-ink-200 p-4">
              <div className="flex items-center justify-between">
                <div>
                  <p className="font-medium">Alarma progresiva</p>
                  <p className="text-xs text-ink-500">0-100% ¬∑ 5 min</p>
                </div>
                <Toggle on />
              </div>
              <div className="flex items-center justify-between">
                <div>
                  <p className="font-medium">Snooze inteligente</p>
                  <p className="text-xs text-ink-500">Duraci√≥n: 5 min</p>
                </div>
                <Toggle on />
              </div>
            </div>
          </div>

          <div className="mt-auto space-y-3">
            <button
              className="w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-sm font-medium text-white"
              onClick={onBack}
            >
              Guardar
            </button>
            <button
              className="w-full rounded-2xl border border-ink-300 px-4 py-3 text-sm font-medium text-ink-700"
              onClick={onSleep}
            >
              Ir a Modo Sue√±o
            </button>
          </div>
        </div>
      );

      const SleepView = ({ onBack, onWake, onError }) => (
        <div className="flex min-h-[720px] flex-col">
          <header className="flex items-center justify-between text-sm text-ink-700">
            <button className="text-2xl" onClick={onBack} aria-label="Volver">
              ‚Üê
            </button>
            <p className="font-display text-xl">Modo Sue√±o</p>
            <span className="text-ink-300">‚ó¶</span>
          </header>

          <div className="mt-8 space-y-1 text-center">
            <p className="font-display text-4xl">11:43 pm</p>
            <IconMoon />
            <p className="text-sm text-ink-500">Monitorizando...</p>
          </div>

          <div className="mt-8 space-y-3">
            <StatusRow label="Phone" value="95% ¬∑ Cargando" icon={<IconPhone />} />
            <StatusRow label="Watch" value="Conectado" icon={<IconWatch />} />
            <StatusRow label="Bater√≠a" value="25%" icon={<IconBattery />} />
          </div>

          <div className="mt-8 rounded-2xl border border-dashed border-ink-300 px-4 py-3 text-sm text-ink-600">
            <div className="flex items-center justify-between gap-3">
              <div className="flex items-center gap-2">
                <IconWarning />
                <p className="m-0">Conecta el cargador para iniciar monitoreo</p>
              </div>
              <button className="text-xs font-medium text-ink-500 underline" onClick={onError}>
                Revisar permisos
              </button>
            </div>
          </div>

          <div className="mt-auto space-y-3">
            <button
              className="w-full rounded-2xl border border-ink-400 bg-ink-200/50 px-4 py-3 text-sm font-medium text-ink-700"
              onClick={onBack}
            >
              Pausar / Detener
            </button>
            <button
              className="w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-sm font-medium text-white"
              onClick={onWake}
            >
              Despertar ahora
            </button>
          </div>
        </div>
      );

      const WakeView = ({ onBack, onSummary }) => (
        <div className="flex min-h-[720px] flex-col">
          <header className="flex items-center justify-between text-sm text-ink-700">
            <button className="text-2xl" onClick={onBack} aria-label="Volver">
              ‚Üê
            </button>
            <p className="font-display text-xl">Smart Alarm</p>
            <span className="text-ink-300">‚ó¶</span>
          </header>

          <div className="mt-8 space-y-2 text-center">
            <div className="mx-auto flex h-20 w-20 items-center justify-center rounded-2xl border border-ink-300">
              <IconAlarm />
            </div>
            <p className="font-display text-5xl">7:12 AM</p>
            <p className="text-sm text-ink-500">Es hora de despertar</p>
            <div className="mx-auto rounded-full border border-ink-300 px-3 py-1 text-xs text-ink-600">
              Dentro de tu ventana ¬∑ 7:00-7:30
            </div>
          </div>

          <div className="mt-8 space-y-3">
            <div className="rounded-3xl border border-ink-200 p-4">
              <div className="flex items-center justify-between text-sm text-ink-500">
                <p>Audio progresivo</p>
                <span className="text-ink-400">Subiendo</span>
              </div>
              <div className="mt-3 rounded-2xl border border-ink-200 bg-white p-3">
                <svg viewBox="0 0 220 60" className="h-16 w-full">
                  <defs>
                    <linearGradient id="audioStroke" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" stopColor="#38bdf8" />
                      <stop offset="100%" stopColor="#fbbf24" />
                    </linearGradient>
                    <linearGradient id="audioFill" x1="0%" y1="0%" x2="0%" y2="100%">
                      <stop offset="0%" stopColor="rgba(56,189,248,0.35)" />
                      <stop offset="100%" stopColor="rgba(251,191,36,0.05)" />
                    </linearGradient>
                    <linearGradient id="audioSecondary" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" stopColor="#93c5fd" />
                      <stop offset="100%" stopColor="#fef3c7" />
                    </linearGradient>
                  </defs>
                  <polyline
                    fill="url(#audioFill)"
                    stroke="none"
                    points="0,60 0,30 10,20 20,40 30,10 40,35 50,25 60,45 70,15 80,30 90,20 100,38 110,18 120,42 130,28 140,50 150,22 160,36 170,12 180,40 190,24 200,48 210,26 210,60"
                  />
                  <polyline
                    fill="none"
                    stroke="url(#audioStroke)"
                    strokeWidth="3"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    points="0,30 10,20 20,40 30,10 40,35 50,25 60,45 70,15 80,30 90,20 100,38 110,18 120,42 130,28 140,50 150,22 160,36 170,12 180,40 190,24 200,48 210,26"
                  />
                  <polyline
                    fill="none"
                    stroke="url(#audioSecondary)"
                    strokeWidth="1.5"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    opacity="0.65"
                    points="0,40 10,32 20,44 30,26 40,46 50,30 60,50 70,28 80,42 90,34 100,46 110,32 120,48 130,36 140,54 150,34 160,44 170,26 180,48 190,38 200,52 210,40"
                  />
                </svg>
              </div>
              <div className="mt-2 text-right text-xs text-ink-500">40%</div>
            </div>

            <div className="space-y-1 rounded-3xl border border-ink-200 p-4">
              <div className="flex items-center gap-2 text-sm font-medium">
                <span>‚óã</span>
                <p>Snooze inteligente (recomendado)</p>
              </div>
              <p className="text-xs text-ink-500">
                Explicaci√≥n: extendemos la ventana 5 min estrat√©gicamente seg√∫n tu ciclo actual.
              </p>
            </div>
          </div>

          <button
            className="mt-8 rounded-3xl border border-ink-300 px-4 py-4 text-center text-sm font-medium"
            onClick={onSummary}
          >
            Desliza para apagar ‚ñ∑
          </button>
        </div>
      );

      const SummaryView = ({ onFinish }) => (
        <div className="flex min-h-[720px] flex-col">
          <header className="text-center">
            <p className="text-xs uppercase tracking-[0.2em] text-ink-500">Resumen del descanso</p>
          </header>

          <div className="mt-6 flex flex-col items-center gap-4">
            <Gauge score={85} />
            <p className="text-sm text-ink-500">Energ√≠a: Alta</p>
          </div>

          <div className="mt-6 space-y-3">
            <div className="rounded-3xl border border-ink-200 p-4">
              <div className="flex items-center justify-between text-sm text-ink-500">
                <p>Movimiento nocturno</p>
                <span>Bajo</span>
              </div>
              <div className="mt-3 rounded-2xl border border-ink-200 bg-white p-3">
                <svg viewBox="0 0 220 60" className="h-16 w-full">
                  <defs>
                    <linearGradient id="motionStroke" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" stopColor="#10b981" />
                      <stop offset="100%" stopColor="#38bdf8" />
                    </linearGradient>
                    <linearGradient id="motionFill" x1="0%" y1="0%" x2="0%" y2="100%">
                      <stop offset="0%" stopColor="rgba(16,185,129,0.25)" />
                      <stop offset="100%" stopColor="rgba(56,189,248,0.05)" />
                    </linearGradient>
                  </defs>
                  <polyline
                    fill="url(#motionFill)"
                    stroke="none"
                    points="0,60 0,40 20,30 40,42 60,22 80,44 100,26 120,48 140,28 160,46 180,32 200,40 200,60"
                  />
                  <polyline
                    fill="none"
                    stroke="url(#motionStroke)"
                    strokeWidth="3"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    points="0,40 20,30 40,42 60,22 80,44 100,26 120,48 140,28 160,46 180,32 200,40"
                  />
                </svg>
              </div>
              <div className="mt-2 flex justify-between text-xs text-ink-500">
                <span>00:00</span>
                <span>04:00</span>
                <span>07:00</span>
              </div>
            </div>

            <div>
              <p className="text-sm font-medium">¬øDespertaste bien?</p>
              <Emotions value={3} />
            </div>

            <div className="space-y-2 rounded-2xl border border-ink-200 px-4 py-3 text-sm">
              <div className="flex items-center justify-between">
                <p>¬øCaf√© ayer?</p>
                <div className="flex gap-2">
                  <span className="rounded-full border border-ink-300 px-3 py-1 text-xs">No</span>
                  <span className="rounded-full border border-ink-900 bg-ink-900 px-3 py-1 text-xs text-white">S√≠</span>
                </div>
              </div>
              <p className="text-xs text-ink-500">Otras variables: clima nublado, bajo estr√©s.</p>
            </div>
          </div>

          <button
            className="mt-auto w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-sm font-medium text-white"
            onClick={onFinish}
          >
            Listo
          </button>
        </div>
      );

      const ErrorView = ({ onResolve }) => (
        <div className="flex min-h-[720px] flex-col items-center text-center">
          <header className="text-xs uppercase tracking-[0.2em] text-ink-500">Error cr√≠tico</header>
          <div className="mt-10 flex h-32 w-32 items-center justify-center rounded-full border border-amber-200 bg-amber-50/40">
            <IconWarning className="h-16 w-16" />
          </div>
          <p className="mt-6 text-lg font-medium">Permisos de micr√≥fono y sensores denegados</p>
          <p className="mt-2 text-sm text-ink-500">
            Activa los permisos para registrar tu sue√±o con precisi√≥n y mantener la Smart Alarm activa.
          </p>
          <button
            className="mt-auto w-full rounded-2xl border border-ink-900 bg-ink-900 px-4 py-3 text-sm font-medium text-white"
            onClick={onResolve}
          >
            Ir a ajustes
          </button>
        </div>
      );

      const screenConfig = {
        home: { label: 'Inicio', accent: 'sky', description: 'Gauge y estado general del descanso.', component: HomeView },
        config: {
          label: 'Configurar',
          accent: 'success',
          description: 'Ajuste de ventana, slider horario y toggles inteligentes.',
          component: ConfigView
        },
        sleep: {
          label: 'Modo sue√±o',
          accent: 'amber',
          description: 'Seguimiento nocturno y estado de sensores.',
          component: SleepView
        },
        wake: {
          label: 'Smart alarm',
          accent: 'sky',
          description: 'Pantalla de despertar con progreso de audio y snooze inteligente.',
          component: WakeView
        },
        summary: {
          label: 'Resumen',
          accent: 'ink',
          description: 'Insights de la noche, gr√°ficos y check-ins de h√°bitos.',
          component: SummaryView
        },
        error: {
          label: 'Error',
          accent: 'alert',
          description: 'Estado de permisos y acciones correctivas.',
          component: ErrorView
        }
      };

      const screenOrder = ['home', 'config', 'sleep', 'wake', 'summary', 'error'];

      const App = () => {
        const [screen, setScreen] = React.useState('home');
        const current = screenConfig[screen];
        const CurrentView = current.component;

        const viewProps = {
          home: { onOpenWindow: () => setScreen('config'), onSleep: () => setScreen('sleep') },
          config: { onBack: () => setScreen('home'), onSleep: () => setScreen('sleep') },
          sleep: {
            onBack: () => setScreen('home'),
            onWake: () => setScreen('wake'),
            onError: () => setScreen('error')
          },
          wake: { onBack: () => setScreen('home'), onSummary: () => setScreen('summary') },
          summary: { onFinish: () => setScreen('home') },
          error: { onResolve: () => setScreen('home') }
        };

        return (
          <section className="rounded-[40px] border border-ink-200 bg-white/85 p-6 shadow-[0_30px_80px_rgba(17,24,39,0.12)]">
            <div className="flex flex-wrap gap-2">
              {screenOrder.map((key) => {
                const cfg = screenConfig[key];
                const active = key === screen;
                return (
                  <button
                    key={key}
                    className={`rounded-full border px-4 py-1 text-sm font-medium transition ${
                      active
                        ? 'border-ink-900 bg-ink-900 text-white shadow'
                        : 'border-ink-300 bg-white text-ink-600 hover:border-ink-500'
                    }`}
                    onClick={() => setScreen(key)}
                  >
                    {cfg.label}
                  </button>
                );
              })}
            </div>
            <p className="mt-4 text-sm text-ink-500">{current.description}</p>
            <div className="mt-8">
              <PhoneFrame accent={current.accent}>
                <CurrentView {...(viewProps[screen] || {})} />
              </PhoneFrame>
            </div>
          </section>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
